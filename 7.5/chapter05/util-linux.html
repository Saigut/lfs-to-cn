<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      5.33.&nbsp;Util-linux-2.24.1
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="stylesheets/lfs-print.css" type="text/css"
    media="print" />
  </head>
  <body class="lfs" id="lfs-7.5">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 7.5
      </h4>
      <h3>
        第&nbsp;5&nbsp;章&nbsp;Constructing a Temporary System
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="texinfo.html" title="Texinfo-5.2">上一页</a>
          <p>
            Texinfo-5.2
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xz.html" title="Xz-5.0.5">下一页</a>
          <p>
            Xz-5.0.5
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter05.html" title=
          "第&nbsp;5&nbsp;章&nbsp;Constructing a Temporary System">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 7.5">起始页</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="ch-tools-util-linux" name="ch-tools-util-linux"></a>5.33.
        Util-linux-2.24.1
      </h1>
      <div class="package" lang="zh-cn" xml:lang="zh-cn">
        <p>
          The Util-linux package contains miscellaneous utility programs.
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">预计编译时间:</strong> <span class=
              "segbody">0.6 SBU</span>
            </div>
            <div class="seg">
              <strong class="segtitle">空间需求:</strong> <span class=
              "segbody">89 MB</span>
            </div>
          </div>
        </div>
      </div>
      <div class="installation" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          5.33.1. Installation of Util-linux
        </h2>
        <p>
          Prepare Util-linux for compilation:
        </p>
        <pre class="userinput">
<kbd class="command">./configure --prefix=/tools                \
            --disable-makeinstall-chown    \
            --without-systemdsystemunitdir \
            PKG_CONFIG=""</kbd>
</pre>
        <div class="variablelist">
          <p class="title">
            <strong>The meaning of the configure option:</strong>
          </p>
          <dl class="variablelist">
            <dt>
              <span class="term"><em class=
              "parameter"><code>--disable-makeinstall-chown</code></em></span>
            </dt>
            <dd>
              <p>
                This switch disables using the <span class=
                "command"><strong>chown</strong></span> command during
                installation. This is not needed when installing into the
                /tools directory and avoids the necessity of installing as
                root.
              </p>
            </dd>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--without-systemdsystemunitdir</code></em></span>
            </dt>
            <dd>
              <p>
                On systems that use systemd, the package tries to install a
                systemd specific file to a non-existent directory in /tools.
                This switch disables the unnecessary action.
              </p>
            </dd>
            <dt>
              <span class="term"><code class=
              "envar">PKG_CONFIG=""</code></span>
            </dt>
            <dd>
              <p>
                Setting this envronment variable prevents adding unneeded
                features that may be available on the host. Note that the
                location shown for setting this environment variable is
                different from other LFS sections where variables are set
                preceding the command. This location is shown to demonstrate
                an alternative way of setting an environment variable when
                using configure.
              </p>
            </dd>
          </dl>
        </div>
        <p>
          Compile the package:
        </p>
        <pre class="userinput">
<kbd class="command">make</kbd>
</pre>
        <p>
          Install the package:
        </p>
        <pre class="userinput">
<kbd class="command">make install</kbd>
</pre>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="texinfo.html" title="Texinfo-5.2">上一页</a>
          <p>
            Texinfo-5.2
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xz.html" title="Xz-5.0.5">下一页</a>
          <p>
            Xz-5.0.5
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter05.html" title=
          "第&nbsp;5&nbsp;章&nbsp;Constructing a Temporary System">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 7.5">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
