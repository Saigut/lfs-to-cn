<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      2.2.&nbsp;创建一个新分区
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="stylesheets/lfs-print.css" type="text/css"
    media="print" />
  </head>
  <body class="lfs" id="lfs-7.5">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 7.5
      </h4>
      <h3>
        第&nbsp;2&nbsp;章&nbsp;准备一个新分区
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="introduction.html" title="介绍">上一页</a>
          <p>
            介绍
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="creatingfilesystem.html" title=
          "在分区上创建一个文件系统">下一页</a>
          <p>
            在分区上创建一个文件系统
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter02.html" title=
          "第&nbsp;2&nbsp;章&nbsp;准备一个新分区">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 7.5">起始页</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="space-creatingpartition" name=
        "space-creatingpartition"></a>2.2. 创建一个新分区
      </h1>
      <p>
        像大多数其它操作系统一样，LFS通常被安装在一个专用分区上。建议的做法是，在一个可用的空分区上构建LFS系统，或者，如果你有足够的未分配空间的话，可以创建一个新分区。
      </p>
      <p>
        一个最小系统需要的分区大小在2.8 gigabytes
        (GB)左右。这个大小足够存储所有的源码包并进行编译了。然而，如果你打算把LFS系统当做主要系统来用的话，很可能会安装额外的软件，这会要求额外的空间。考虑到以后的使用，10GB的分区是一个比较合理的大小。LFS系统本身是不会占用这么多的空间的。空间需求中的比较大的部分，是用于提供足够的空闲临时空间。编译软件包可能会需要很多的临时空间，这些空间在软件安装后会被回收。
      </p>
      <p>
        电脑上不总是有足够的内存（RAM）用来编译软件，用一小块硬盘分区作为 <code class=
        "systemitem">swap</code>
        空间是个不错的解决办法。这被内核用来存储不常用到的数据，空出更多内存留给活跃的进程。LFS系统的 <code class=
        "systemitem">swap</code> 分区可以和宿主系统用的是同一块，这样就不需要再另建一个了。
      </p>
      <p>
        启动一个磁盘分区工具比如 <span class="command"><strong>cfdisk</strong></span> 或者
        <span class=
        "command"><strong>fdisk</strong></span>，跟着一个表示你想要在上面创建新分区的硬盘的命令行参数——例如，<code class="filename">/dev/sda</code>
        表示第一块IDE硬盘。如果需要的话，你可以创建一个Linux分区和一个 <code class=
        "systemitem">swap</code> 分区。如果你不知道如何使用这些程序，请查阅 <code class=
        "filename">cfdisk(8)</code> 或 <code class="filename">fdisk(8)</code>。
      </p>
      <div class="admon note">
        <img alt="[注意]" src="../images/note.png" />
        <h3>
          注意
        </h3>
        <p>
          对于有经验的用户，其它的分区方案也是可以的。新LFS系统可以构建于一个软件 <a class="ulink" href=
          "http://www.linuxfromscratch.org/blfs//view/svn/postlfs/raid.html">RAID</a>
          阵列或一个 <a class="ulink" href=
          "http://www.linuxfromscratch.org/blfs//view/svn/postlfs/aboutlvm.html">
          LVM</a> 逻辑卷之上。不过其中的一些方案需要用到 <a class="ulink" href=
          "http://www.linuxfromscratch.org/blfs//view/svn/postlfs/initramfs.html">
          initramfs</a>，这是一个高级话题。对于这些分区方案，不建议第一次接触LFS的用户使用。
        </p>
      </div>
      <p>
        记住新分区的标号（比如，<code class="filename">sda5</code>）。这本书会将这个作为LFS分区。也要记住
        <code class="systemitem">swap</code> 分区的标号。这些标号会在后面的 <code class=
        "filename">/etc/fstab</code> 文件中用到。
      </p>
      <div class="sect2" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          2.2.1. 其它分区问题
        </h2>
        <p>
          LFS的邮件列表上经常有人寻求分区建议，这是一个十分主观的话题。大多数的发行版会使用整个驱动器，除了分出一小块的swap分区。由于一些原因，这并不是LFS的最佳方案。它降低了灵活性，使得在多个发行版或LFS系统间分享数据更加困难，使得备份更加耗时间，并且低效的文件系统结构分配会浪费磁盘空间。
        </p>
        <div class="sect3">
          <h3 class="sect3">
            2.2.1.1. 根分区
          </h3>
          <p>
            10GB的LFS根分区（不要与 <code class="filename">/root</code>
            目录相混淆）对多数系统是一个不错的方案。它提供了足够的空间用来构建LFS和大部分BLFS，但又足够小以便创建出多个用来实验。
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            2.2.1.2. Swap分区
          </h3>
          <p>
            绝大多数发行版会自动创建一个swap分区。通常推荐的swap分区大小是物理内存的两倍，然而这是很少用到的。
            如果硬盘空间有限，将其尺寸限制到2GB，并监视其使用情况。
          </p>
          <p>
            交换从来就不是好的。通常你只需听硬盘的活动并观察系统如何相应命令即可判断它是否在交换。对交换现象的首要反应应该是去检查不合理的命令，比如尝试编辑一个5GB的文件。如果交换现象变得经常发生，最好的解决方案是为你的电脑加大内存。
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            2.2.1.3. 便利分区
          </h3>
          <p>
            有几种其它分区不是必需的，但在设计分区布局的时候应该加以考虑。下面的列表不算很全面，但作为一个指引还是很有意义的。
          </p>
          <div class="itemizedlist">
            <ul>
              <li class="listitem">
                <p>
                  /boot –
                  高度推荐。使用这个分区存储内核和其它启动信息。为了最小化大硬盘的潜在问题，可以把这个作为你的第一块硬盘的第一个物理分区。100MB的大小就很够了。
                </p>
              </li>
              <li class="listitem">
                <p>
                  /home –
                  高度推荐。在多个发行版或LFS系统间分享你的home目录和用户配置。它的尺寸相对较大，并且依赖于硬盘可用空间的大小。
                </p>
              </li>
              <li class="listitem">
                <p>
                  /usr – 一个单独的 /usr
                  分区通常用在用于小客户端或无盘工作站的服务器上。LFS一般不需要它。它5GB的大小就足以满足绝大多数安装需求了。
                </p>
              </li>
              <li class="listitem">
                <p>
                  /opt – 这个目录对BLFS中像Gnome或KDE这样的大型软件在安装的时候，不把文件嵌入到 /usr
                  目录时最有用。如果要用到它，5到10GB一般够了。
                </p>
              </li>
              <li class="listitem">
                <p>
                  /tmp – 单独的 /tmp
                  分区很少见，但在配置一个小客户端的时候很有用。如果用到了这个分区，一般不需要超过几GB。
                </p>
              </li>
              <li class="listitem">
                <p>
                  /usr/src –
                  这个分区对提供一个位置存储BLFS源文件并在不同LFS系统间共享很有用。它也可以作为一个构建BLFS包的位置。30到50G的合理大小提供了大量的空间。
                </p>
              </li>
            </ul>
          </div>
          <p>
            任何你想要开机自动挂载的分区都要在 <code class="filename">/etc/fstab</code>
            文件中指定。关于如何指定的细节将会在<a class="xref" href="../chapter08/fstab.html"
            title="8.2.&nbsp;Creating the /etc/fstab File">第&nbsp;8.2&nbsp;节
            “Creating the /etc/fstab File”</a>中被讨论。
          </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="introduction.html" title="介绍">上一页</a>
          <p>
            介绍
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="creatingfilesystem.html" title=
          "在分区上创建一个文件系统">下一页</a>
          <p>
            在分区上创建一个文件系统
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter02.html" title=
          "第&nbsp;2&nbsp;章&nbsp;准备一个新分区">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 7.5">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
