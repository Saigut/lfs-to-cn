<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      宿主系统需求
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="stylesheets/lfs-print.css" type="text/css"
    media="print" />
  </head>
  <body class="lfs" id="lfs-7.5">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 7.5
      </h4>
      <h3>
        序
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="prerequisites.html" title="前提条件">上一页</a>
          <p>
            前提条件
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="typography.html" title="Typography">下一页</a>
          <p>
            Typography
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="preface.html" title="序">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 7.5">起始页</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="pre-hostreqs" name="pre-hostreqs"></a>vii. 宿主系统需求
      </h1>
      <p>
        你的宿主系统应该要有下面列出的软件，而且不应低于所标出的最低版本。这个要求对大多数现代Linux发行版应该都不是问题。也要注意，有许多发行版会把软件的软件头放在一个独立的包里，通常像这样<span class="quote">“<span class="quote">&lt;package-name&gt;-devel</span>”</span>或这样<span class="quote">“<span class="quote">&lt;package-name&gt;-dev</span>”</span>，如果你的发行版是这样，要确保也安装他们。
      </p>
      <p>
        下面列出的软件的更早版本可能也能用，但还没有测试过。
      </p>
      <div class="itemizedlist">
        <ul class="compact">
          <li class="listitem">
            <p>
              <span class="strong"><strong>Bash-3.2</strong></span>
              （/bin/sh应该是一个到bash的软连接或硬链接）
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Binutils-2.17</strong></span>
              （高于2.24的版本不建议使用，因为还没测试过）
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Bison-2.3</strong></span>
              （/usr/bin/yacc应该是一个到 bison 的链接，或是一个执行bison的小脚本）
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Bzip2-1.0.4</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Coreutils-6.9</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Diffutils-2.8.1</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Findutils-4.2.31</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Gawk-4.0.1</strong></span>
              （/usr/bin/awk应是一个到gawk的链接）
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>GCC-4.1.2</strong></span>
              包含C++编译器，<span class="command"><strong>g++</strong></span>
              （高于4.8.2的版本不建议使用，因为还没测试过）
            </p>
            <div class="admon note">
              <img alt="[注意]" src="../images/note.png" />
              <h3>
                注意
              </h3>
              <p>
                在一些发行版上，有报告说一些被gcc使用的库会处于一种易变的状态，这会干扰一到些LFS包的构建。要检查这个，要先在/usr/lib目录，也可能是/usr/lib64目录，找一下libgmp.la，libmpfr.la和libmpc.la这三个文件。它们可能全都有，或者全部没有，但不会是只有其中一个或两个。如果它们导致了问题，你可以把它们改名或者删掉，或者安装合适的缺失的软件包。
              </p>
            </div>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Glibc-2.5.1</strong></span>
              （高于2.19的版本不建议使用，因为还没测试过）
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Grep-2.5.1a</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Gzip-1.3.12</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Linux
              Kernel-2.6.32</strong></span>
            </p>
            <p>
              对内核版本的要求的原因是，在第 6 章构建<span class=
              "application">glibc</span>的时候，我们在开发者的建议下指定了这个版本。它也被udev所要求。
            </p>
            <p>
              如果宿主系统的内核早于2.6.32，你需要把内核替换为更新的版本。这里有两种放法作替换。第一个，查看你的发行版是否提供了2.6.32或更新版本的内核，如果是，你可以去安装它。第二个，如果你的发行版没有提供合适的内核包，或者你不想安装它提供的内核，那么你可以自己编译一个内核。编译内核和配置启动器（假设宿主系统使用GRUB）的指令在<a class="xref"
              href="../chapter08/chapter08.html" title=
              "第&nbsp;8&nbsp;章&nbsp;Making the LFS System Bootable">第 8
              章</a>。
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>M4-1.4.10</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Make-3.81</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Patch-2.5.4</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Perl-5.8.8</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Sed-4.1.5</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Tar-1.18</strong></span>
            </p>
          </li>
          <li class="listitem">
            <p>
              <span class="strong"><strong>Xz-5.0.0</strong></span>
            </p>
          </li>
        </ul>
      </div>
      <p>
        要注意上面提到的软连接是用本书中的指令构建LFS系统所要求的。指向其它软件（比如dash，mawk等）的软连接可能也能用，但没被测试过或被LFS开发组所支持，而且那可能会要求指令上的修改或对一些软件的额外的补丁。
      </p>
      <div class="sect2" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          <a id="version-check" name="version-check"></a>
        </h2>
        <p>
          要查看你的宿主系统是否全部具有那些软件的合适版本，和编译程序的能力，请运行下面：
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt; version-check.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/bash
# Simple script to list version numbers of critical development tools

export LC_ALL=C
bash --version | head -n1 | cut -d" " -f2-4
echo "/bin/sh -&gt; `readlink -f /bin/sh`"
echo -n "Binutils: "; ld --version | head -n1 | cut -d" " -f3-
bison --version | head -n1
if [ -e /usr/bin/yacc ];
  then echo "/usr/bin/yacc -&gt; `readlink -f /usr/bin/yacc`";
  else echo "yacc not found"; fi

bzip2 --version 2&gt;&amp;1 &lt; /dev/null | head -n1 | cut -d" " -f1,6-
echo -n "Coreutils: "; chown --version | head -n1 | cut -d")" -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1
if [ -e /usr/bin/awk ];
  then echo "/usr/bin/awk -&gt; `readlink -f /usr/bin/awk`";
  else echo "awk not found"; fi

gcc --version | head -n1
g++ --version | head -n1
ldd --version | head -n1 | cut -d" " -f2-  # glibc version
grep --version | head -n1
gzip --version | head -n1
cat /proc/version
m4 --version | head -n1
make --version | head -n1
patch --version | head -n1
echo Perl `perl -V:version`
sed --version | head -n1
tar --version | head -n1
xz --version | head -n1

echo 'main(){}' &gt; dummy.c &amp;&amp; g++ -o dummy dummy.c
if [ -x dummy ]
  then echo "g++ compilation OK";
  else echo "g++ compilation failed"; fi
rm -f dummy.c dummy

for lib in lib{gmp,mpfr,mpc}.la; do
  echo $lib: $(if find /usr/lib* -name $lib|
               grep -q $lib;then :;else echo not;fi) found
done
unset lib</code>
EOF

bash version-check.sh</kbd>
</pre>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="prerequisites.html" title="前提条件">上一页</a>
          <p>
            前提条件
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="typography.html" title="Typography">下一页</a>
          <p>
            Typography
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="preface.html" title="序">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 7.5">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
