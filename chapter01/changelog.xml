<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-scatter-changelog">
  <?dbhtml filename="changelog.html"?>

  <title>变更日志</title>

  <para>这是 Linux From Scratch 版本 &version;，日期 &releasedate;。如果本书已经超过六个月了，或许会有更新的版本发布。请查看镜像站点 <ulink url="&lfs-root;mirrors.html"/> 。</para>

  <para>以下是本书上次发布以来所做的改动。</para>

  <itemizedlist>
    <title>变更日志条目：</title>

<!-- Changelog template

    <listitem>
      <para>Date</para>
      <itemizedlist>
        <listitem>
          <para>[name] - New changelog entry.</para>
        </listitem>
        <listitem>
          <para>[name] - Previous changelog entry.</para>
        </listitem>
      </itemizedlist>
    </listitem>

-->

    <listitem>
      <para>2012-02-24</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 给 glibc 添加一个补丁修正某些情况下可能出现的 dlopen() 的 (segfault) 问题。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-23</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 在有关分区的一节中添加一条油灌高级分区技术 (如 RAID 和 LVM) 的注记。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-20</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - LFS-7.1-rc1 发布。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-19</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 给 m4 程序包添加一次 sed 以修正一个假的测试错误。修正 <ulink url="&lfs-ticket-root;3022">#3022</ulink>。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - 升级 mountfs 脚本以在停止是支持 LVM 卷。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-15</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Man-DB-2.6.1。修正 <ulink url="&lfs-ticket-root;3020">#3020</ulink>。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - 在 checkfs 脚本中激活所有可能的 LVM 分区。感谢 Qrux 指出此问题。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-14</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Shadow-4.1.5。修正 <ulink url="&lfs-ticket-root;3019">#3019</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.2.6。修正 <ulink url="&lfs-ticket-root;3018">#3018</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>
    
    <listitem>
      <para>2012-02-11</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 修正几个安装命令的标记。这会对 jhalfs 的程序包管理特性有帮助。感谢 Pierre Labastie 提供补丁。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 提前至第六章创建 /usr/lib/libstdc++.la 以修复一 ICA 问题。感谢 Pierre Labastie 提供补丁。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 GMP-5.0.4。修正 <ulink url="&lfs-ticket-root;3017">#3017</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-09</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 移除 GMP 的测试套件中的一个修正，它在 GMP-5.0.3 中加入上游。修正 <ulink url="&lfs-ticket-root;3016">#3016</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-07</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Udev-181。修正 <ulink url="&lfs-ticket-root;3015">#3015</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Kmod-5。修正 <ulink url="&lfs-ticket-root;3014">#3014</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.2.5。修正 <ulink url="&lfs-ticket-root;3013">#3013</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-05</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.2.4。修正 <ulink url="&lfs-ticket-root;3012">#3012</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Automake-1.11.3。修正 <ulink url="&lfs-ticket-root;3011">#3011</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 移除剩余的对 Module-Init-Tools 的提及
          </para>
        </listitem>
        <listitem>
          <para>[matthew] - 安装 Kmod 和 Xz 的 pkgconfig 文件至标准位置。感谢 John Burrell 和 Bryan 的原始报告和  Ken 的修复。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-04</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 修正启动脚本：
          <itemizedlist>
            <listitem><para>移除不必要的功能文字。</para></listitem>
            <listitem><para>修正 statusproc 中的 pidlist 逻辑。</para></listitem>
            <listitem><para>修正 statusproc 使用声明。</para></listitem>
            <listitem><para>在 mountfs 中加入 nodevtmpfs。</para></listitem>
          </itemizedlist>
          </para>
        </listitem>
         <listitem>
           <para>[bdubbs] 给 xml 添加 nodump 使得打印出 70-persistent-net.rules 的命令在 jhalfs 中不会使用。修复 kvm 中的一个问题。</para>
         </listitem>
        <listitem>
          <para>[bryan] - 修正 7.4 节中的文本，并改变包装模块推荐以使用 kmod 的对 soft post-dependencies 的支持。修正 <ulink url="&lfs-ticket-root;3010">#3010</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-02-02</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 移除到 consolelog 的废弃引用。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - 重新格式化 udev 配置命令。</para>
        </listitem>
      </itemizedlist>
    </listitem>
    
    <listitem>
      <para>2012-02-01</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - (再次) 说明 GCC 第一遍的提取顺序。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - 重新格式化 Kmod 配置脚本。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-30</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Zlib-1.2.6。修正 <ulink url="&lfs-ticket-root;3009">#3009</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 将 Xz 移到 GRUB 之前，使后者支持压缩内核镜像。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Udev-180。修正 <ulink url="&lfs-ticket-root;3008">#3008</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-28</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Psmisc-22.15。修正 <ulink url="&lfs-ticket-root;3007">#3007</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 GMP-5.0.3。修正 <ulink url="&lfs-ticket-root;3006">#3006</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.2.2。修正 <ulink url="&lfs-ticket-root;3005">#3005</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Udev-179。修正 <ulink url="&lfs-ticket-root;3004">#3004</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-22</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 升级网络启动脚本以支持 BLFS 中的桥设备。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.2.1。修正 <ulink url="&lfs-ticket-root;2999">#2999</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Udev-178，并加入新依赖的 Kmod-4。修正 <ulink url="&lfs-ticket-root;2998">#2998</ulink> 和 <ulink url="&lfs-ticket-root;3001">#3001</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-16</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 改变启动脚本，给 /dev 使用 devtmpfs。将 /dev 的挂在移到 mountvirtfs 并确保 /dev 被置于 /etc/mtab。相应改动 fstab 和内核配置。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-11</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 增加 GRUB 配置中关于使用独立引导分区的声明。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 移除 Libnl，因为实际上不再被 IPRoute2 需求。感谢 Markku Pesonen 指出。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-08</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 阻止 Libnl 安装静态库。感谢 Ken Moffat 报告。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Coreutils-8.15。修正 <ulink url="&lfs-ticket-root;2996">#2996</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 IPRoute2-3.2.0，并加入新依赖的 libnl-2.0。修正 <ulink url="&lfs-ticket-root;2995">#2995</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.2。修正 <ulink url="&lfs-ticket-root;2993">#2993</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Inetutils-1.9.1。修正 <ulink url="&lfs-ticket-root;2992">#2992</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 修正 Linux 压缩包名中的打字错误。修正 <ulink url="&lfs-ticket-root;2991">#2991</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 File-5.10。修正 <ulink url="&lfs-ticket-root;2989">#2989</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2012-01-06</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 将 version-check.sh 中各平台的 Glibc 版本检测改为改为更简单的命令。感谢 Pierre Labastie 报告和修正。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - 将 “参与计数” 改为 php 脚本。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-12-28</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 修正 version-check.sh 在 64 位 Debian 平台上的 Glibc 版本检测。感谢 Pierre Labastie 报告并修正。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-12-22</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Automake-1.11.2。修正 <ulink url="&lfs-ticket-root;2986">#2986</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.1.6。修正 <ulink url="&lfs-ticket-root;2985">#2985</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 修正 /run/shm 的权限。修正 <ulink url="&lfs-ticket-root;2984">#2984</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 添加 MPFR 的上游补丁。修正 <ulink url="&lfs-ticket-root;2983">#2983</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-12-10</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.1.5。修正 <ulink url="&lfs-ticket-root;2981">#2981</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-12-05</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 改进多个程序包安装文件列表的精度。感谢 Chris Staub 提供补丁。修正 <ulink url="&lfs-ticket-root;2979">#2979</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 组织某些 arpd 伪装被 IPRoute2 安装。修正 <ulink url="&lfs-ticket-root;2977">#2977</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 修正 Coreutils 的 libstdbuf 的位置。修正 <ulink url="&lfs-ticket-root;2976">#2976</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 将 Psmisc 移至 E2fsprogs 之前，因为 E2fsprogs 测试套件使用了 killall。修正 <ulink url="&lfs-ticket-root;2975">#2975</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-12-01</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 E2fsprogs-1.42。修正 <ulink url="&lfs-ticket-root;2973">#2973</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.1.4。修正 <ulink url="&lfs-ticket-root;2970">#2970</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 IPRoute2-3.1.0。修正 <ulink url="&lfs-ticket-root;2969">#2969</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 添加 Bash 的最新上游补丁。修正 <ulink url="&lfs-ticket-root;2968">#2968</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-11-28</para>
      <itemizedlist>
        <listitem>
          <para>[dj] - 升级至 lfs-bootscripts-20111128。</para>
        </listitem>
        <listitem>
          <para>[ken] - 修正 coreutils 测试套件中的夏令时漏洞。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-11-26</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 清理控制台脚本。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-11-25</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 Binutils-2.22。修正 <ulink url="&lfs-ticket-root;2967">#2967</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 再一次安装 Glibc 的 NIS 和 RPC 头文件。 从 Glibc-2.14 开始就默认不安装，但这使某些 BLFS 程序包崩溃。修正 <ulink url="&lfs-ticket-root;2965">#2965</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Grep-2.10。修正 <ulink url="&lfs-ticket-root;2964">#2964</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 添加一个补丁以修复 Perl 中的一个安全弱点。修正 <ulink url="&lfs-ticket-root;2963">#2963</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 GDBM-1.10。修正 <ulink url="&lfs-ticket-root;2962">#2962</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 安装 Coreutils 的 <filename class="libraryfile">libstdbuf.so</filename> 至 <filename class="directory">/usr/lib/coreutils</filename> 以与其他程序包的共享库位置保持一致。修正 <ulink url="&lfs-ticket-root;2961">#2961</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Linux-3.1.2。修正 <ulink url="&lfs-ticket-root;2960">#2960</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Tcl-8.5.11。修正 <ulink url="&lfs-ticket-root;2959">#2959</ulink>。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-11-16</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 给 /var/log/btmp 设置 660 权限。由 Michael Blanchard 提出。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-11-14</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 升级启动脚本：清理；将 consolelog 功能移至 rc；清理引导日志功能;修正运行级别 S 与目标运行级别之间的交互尝试。感谢 DJ Lucas。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-10-29</para>
      <itemizedlist>
        <listitem>
          <para>[bdubbs] - 在启动脚本介绍中改正文本。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - 移除启动脚本功能中用于向后兼容 BLFS 的源代码行。</para>
        </listitem>
      </itemizedlist>
    </listitem>

    <listitem>
      <para>2011-10-29</para>
      <itemizedlist>
        <listitem>
          <para>[matthew] - 升级至 GCC-4.6.2。修正 <ulink url="&lfs-ticket-root;2951">#2951</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Util-Linux-2.20.1。修正 <ulink url="&lfs-ticket-root;2947">#2947</ulink>。</para>
        </listitem>
        <listitem>
          <para>[matthew] - 升级至 Libtool-2.4.2。修正 <ulink url="&lfs-ticket-root;2946">#2946</ulink>。</para>
        </listitem>
        <listitem>
          <para>[bdubbs] - LFS-7.0 发布。
          </para>
        </listitem>
      </itemizedlist>
    </listitem>

  </itemizedlist>
</sect1>
